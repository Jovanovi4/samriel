{% extends 'accounts/accounts_layout.html' %}
{% block header %}
<title>Вход</title>
{% endblock %}
  {% block content %}
    <form method="post">
        {% csrf_token %}
          <!-- Ошибки входа -->
    {% if messages %}
    <div class="alert alert-danger">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}
        <div class="form-floating mb-2">
            {{ form.username }}
            <label for="{{ form.username.id_for_label }}">Телефон</label>
        </div>
        <div class="form-floating mb-2">
            {{ form.password }}
            <label for="{{ form.password.id_for_label }}">Пароль</label>
        </div>
        <button type="submit" class="btn btn-primary w-100 py-3">Войти</button>
             <!-- Отступ и ссылка -->
     <div class="mt-3 text-center">
      <p class="mb-0">Нет аккаунта? <a href="{% url 'accounts:register' %}">Зарегистрироваться</a></p>
  </div>
    </form>


<script src="https://unpkg.com/imask"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const phoneInput = document.getElementById('{{ form.username.id_for_label }}');
    if (phoneInput) {
        const maskOptions = {
            mask: '+{7}(000)000-00-00'
        };
        IMask(phoneInput, maskOptions);
    } else {
        console.error('Phone input element not found');
    }
});
</script>
  {% endblock %}


